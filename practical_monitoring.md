# links

https://www.oreilly.co.jp/books/9784873118642/

# 1. 監視のアンチパターン

- アンチパターンとは、一見良いアイディアだが実装すると手痛いしっぺ返しを食らうものをいう。

## アンチパターン１：ツール依存

- ミッションを遂行するために何が必要か、という観点で考え、要求に見合うツールを探さなければならない
- 観察者効果は気にしない
- ツールを採用する前に、試してみることが大事。知名度の高い会社が使っているというだけで採用してはいけない

## アンチパターン２：役割としての監視

- 監視は中身を知らずにできるものではないので、特定のメンバーだけに責任を負わせるべきではなく、開発メンバー全員で取り組むべき
- 監視ツールを内製するときに、その開発責任を特定のメンバーに負わせることは正しい

## アンチパターン３：チェックボックス監視

- 「監視してます」と言うための監視は、むしろないよりひどい
- システムが「動いている」状態をきちんと定義し、その条件を満たせていないときにアラートするべき
- 例えば、レスポンスタイムが許容範囲に収まっていなければ問題だが、レスポンスタイムが許容範囲に収まっているのであればCPU使用率が99%で張り付いている事自体は問題ではない
- 正しく兆候を捉えるためには、最低でも60秒に１回メトリクスを取得する

## アンチパターン４：監視を支えにする

- 監視すべき項目を追加し続けている場合、サービス自体を安定して回復力のあるものにするべき

## アンチパターン５：手動設定

- 各サービスは、誰かが設定を追加するのではなく、勝手に登録されるようにすべき
