# なっとく！並行処理プログラミング

## 1. 並行処理

- 並行処理は、何を行うかと、それをいつ行うかを切り離す
- 並行処理の難しさの一因は、英知が文書化されていないことによる

## 2. 直列実行と並列実行

- グスタフソンの法則
  - アムダールの法則に対するアンチテーゼ
  - 並列化可能な処理を増やしていけば、高速化がプロセッサの数に比例するようになる
- 並行処理：重複する期間に不特定の順序で開始、実行、完了される複数のタスク
- 並列処理：ハードウェア上で同時に実行される複数のタスク

## 3. コンピュータの仕組み

- マルチコアプロセッサCPUは、クロック周波数が高く、広範な命令セットをサポートしていて、それぞれのコアが独立して命令を実行できるが、その複雑度によりGPUと比較してコア数は少ない(MIMD)
- GPUは、クロック周波数はCPUに比べると低く、命令セットも限られており、全てのコアで同一の命令しか実行できないが、非常に多くのコアを持つことで超並列処理を実行できる(SIMD)

## 4. 並行処理の構成要素

- プロセスはリソース（アドレス空間、ファイル、接続など）のコンテナであり、スレッドはそのコンテナの中で実行される命令シーケンス、と考えることができる

## 5. プロセス間通信

- スレッドプールは、ほとんどの処理アプリケーションに適したデフォルトの選択肢であるが、以下の場合は適さない
  - スレッドの優先順位を制御する必要がある
  - スレッド個数の上限が問題になる
  - スレッドのIDが静的に割り当てられなければならない
  - スレッドを特定のタスクに割り当てなければならない
